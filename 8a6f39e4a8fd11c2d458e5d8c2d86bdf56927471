{
  "comments": [
    {
      "key": {
        "uuid": "9a3d3df0_ae991421",
        "filename": "xci/scripts/update-osa-version-files.sh",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 2091
      },
      "writtenOn": "2017-12-11T11:27:55Z",
      "side": 1,
      "message": "you are already passing this variable when calling this script and I haven\u0027t found another place where this script is called, so perhaps you could refer to it as $1",
      "range": {
        "startLine": 56,
        "startChar": 36,
        "endLine": 56,
        "endChar": 57
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_8e9410e3",
        "filename": "xci/scripts/update-osa-version-files.sh",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 5473
      },
      "writtenOn": "2017-12-11T11:43:48Z",
      "side": 1,
      "message": "good point",
      "parentUuid": "9a3d3df0_ae991421",
      "range": {
        "startLine": 56,
        "startChar": 36,
        "endLine": 56,
        "endChar": 57
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_ce645824",
        "filename": "xci/scripts/update-osa-version-files.sh",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 5473
      },
      "writtenOn": "2017-12-11T12:29:54Z",
      "side": 1,
      "message": "Actually not. Because the first argument in update_ansible_role_requirements expects to be a \u0027branch\u0027name but in update-osa-version-files.sh the first argument can be a branch or SHA so if we pass SHA then update_ansible_role_requirements will not work. As such (at least for now) we have to be a bit ugly here :/",
      "parentUuid": "9a3d3df0_8e9410e3",
      "range": {
        "startLine": 56,
        "startChar": 36,
        "endLine": 56,
        "endChar": 57
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_117e616b",
        "filename": "xci/scripts/update-osa-version-files.sh",
        "patchSetId": 3
      },
      "lineNbr": 56,
      "author": {
        "id": 2091
      },
      "writtenOn": "2017-12-11T14:28:45Z",
      "side": 1,
      "message": "I see",
      "parentUuid": "9a3d3df0_ce645824",
      "range": {
        "startLine": 56,
        "startChar": 36,
        "endLine": 56,
        "endChar": 57
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_0ea12047",
        "filename": "xci/xci-deploy.sh",
        "patchSetId": 3
      },
      "lineNbr": 129,
      "author": {
        "id": 2091
      },
      "writtenOn": "2017-12-11T11:27:55Z",
      "side": 1,
      "message": "Interesting... I did not know there was a syntax in bash to express \"contains\". Nevertheless, why we limit this to only stable versions?",
      "range": {
        "startLine": 129,
        "startChar": 31,
        "endLine": 129,
        "endChar": 33
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_6e8f0ccd",
        "filename": "xci/xci-deploy.sh",
        "patchSetId": 3
      },
      "lineNbr": 129,
      "author": {
        "id": 5473
      },
      "writtenOn": "2017-12-11T11:43:48Z",
      "side": 1,
      "message": "what else would you put here?",
      "parentUuid": "9a3d3df0_0ea12047",
      "range": {
        "startLine": 129,
        "startChar": 31,
        "endLine": 129,
        "endChar": 33
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_aec0f4e0",
        "filename": "xci/xci-deploy.sh",
        "patchSetId": 3
      },
      "lineNbr": 129,
      "author": {
        "id": 2091
      },
      "writtenOn": "2017-12-11T12:00:23Z",
      "side": 1,
      "message": "Nothing, I was misunderstanding the patch sorry. If I understand now correctly, we use the releng-xci a-r-r file, etc unless the OSA version set by the user is stable/xxx, in that case we fetch the a-r-r file, etc from upstream, right? Then we are assuming that users will not set a \"SHA\" as OSA version when referring to stable/xxx, which I guess is a safe guess. Maybe we could add a condition when reading the OSA version and if it is not the default or \"stable/xxx\", we can print: \"YOU ARE ON YOUR OWN!\" :)",
      "parentUuid": "9a3d3df0_6e8f0ccd",
      "range": {
        "startLine": 129,
        "startChar": 31,
        "endLine": 129,
        "endChar": 33
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_4eb1688e",
        "filename": "xci/xci-deploy.sh",
        "patchSetId": 3
      },
      "lineNbr": 129,
      "author": {
        "id": 5473
      },
      "writtenOn": "2017-12-11T12:04:23Z",
      "side": 1,
      "message": "Almost. We are _not_ using the upstream a-r-r file when you set stable/foo. The upstream a-r-r contains SHAs for the roles but we use the stable branches in the roles which means we are really using the latest stable code from the roles instead of an SHA on the stable brach. I hope that makes sense. I have noticed that people normally use SHAs around the one we provide if they want to workaround bugs or they use stable/* if they work with scenarios so I think that should cover our most common cases right now.",
      "parentUuid": "9a3d3df0_aec0f4e0",
      "range": {
        "startLine": 129,
        "startChar": 31,
        "endLine": 129,
        "endChar": 33
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a3d3df0_d1835954",
        "filename": "xci/xci-deploy.sh",
        "patchSetId": 3
      },
      "lineNbr": 129,
      "author": {
        "id": 2091
      },
      "writtenOn": "2017-12-11T14:28:45Z",
      "side": 1,
      "message": "ok, understood :)",
      "parentUuid": "9a3d3df0_4eb1688e",
      "range": {
        "startLine": 129,
        "startChar": 31,
        "endLine": 129,
        "endChar": 33
      },
      "revId": "8a6f39e4a8fd11c2d458e5d8c2d86bdf56927471",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}